{"version":3,"file":"static/js/42.14cacf19.chunk.js","mappings":"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","sources":["webpack://goit-react-woolf-hw-05-movies/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://goit-react-woolf-hw-05-movies/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx","service/posterFallback.js","service/tmdbApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import { RotatingTriangles } from \"react-loader-spinner\";\nimport css from \"./Loader.module.css\";\n\nconst Loader = () => {\n  return <RotatingTriangles wrapperClass={css.loader} />;\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"MovieDetailsPage_section__yOGhJ\",\"buttonLink\":\"MovieDetailsPage_buttonLink__2NjbM\",\"genre\":\"MovieDetailsPage_genre__1VQLG\",\"list\":\"MovieDetailsPage_list__xeLC8\",\"details-link\":\"MovieDetailsPage_details-link__Ou+eb\",\"active\":\"MovieDetailsPage_active__52Wu-\",\"notfound\":\"MovieDetailsPage_notfound__lzISh\"};","import { useState, useRef, useEffect } from \"react\";\nimport { useParams, Link, Outlet, useLocation, NavLink } from \"react-router-dom\";\nimport { toast } from \"react-hot-toast\";\nimport clsx from \"clsx\";\n\nimport api from \"service/tmdbApi\";\nimport posterFallback from \"service/posterFallback\";\nimport Loader from \"components/Loader/Loader\";\n\nimport css from \"./MovieDetailsPage.module.css\";\n\nconst linkClass = ({ isActive }) => {\n  if (isActive) return clsx(css[\"details-link\"], css.active);\n  return css[\"details-link\"];\n};\n\nconst MovieDetailsPage = () => {\n  const [dataMovie, setDataMovie] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const location = useLocation();\n\n  const { movieId } = useParams();\n  const backLinkRef = useRef(location.state || \"/movies\");\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    const fetchData = async () => {\n      setIsLoading(true);\n\n      try {\n        const data = await api.fetchMovieDetailsByMovieId(movieId);\n        setDataMovie(data);\n      } catch (error) {\n        toast.error(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [movieId]);\n\n  return (\n    <>\n      <section className={css.section}>\n        <Link to={backLinkRef.current} className={css.buttonLink}>\n          Go back\n        </Link>\n        {isLoading && <Loader />}\n        {dataMovie && (\n          <>\n            <img\n              src={\n                dataMovie.backdrop_path\n                  ? `https://image.tmdb.org/t/p/w500${dataMovie.backdrop_path}`\n                  : posterFallback\n              }\n              alt={dataMovie.title}\n              width=\"500\"\n            />\n            <h2 className={css.title}>{dataMovie.title}</h2>\n            <p className={css.genre}>\n              Genres: {dataMovie.genres.map(({ name }) => name).join(\", \")}\n            </p>{\" \"}\n            <p className={css.addinfo}>Additional information</p>\n            <ul className={css.list}>\n              <li className={css.item}>\n                <NavLink to=\"cast\" className={linkClass}>\n                  Cast\n                </NavLink>\n              </li>\n              <li className={css.item}>\n                <NavLink to=\"reviews\" className={linkClass}>\n                  Reviews\n                </NavLink>\n              </li>\n            </ul>\n            <Outlet />\n          </>\n        )}\n        {!isLoading && !dataMovie && (\n          <p className={css.notfound}>Sorry, this movie does not exist in our database...</p>\n        )}\n      </section>\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","const posterFallback =\n  \"https://t1.pixers.pics/img-c676e9e9/posters-cinema-poster-design-template.jpg?H4sIAAAAAAAAA42PSU7FMAxAr5NKbe2MTXqAv_1HqDL1U-ikpEDF6UkBsUNCXniQ_awHr2u2YwQf1yMmWKYQ5gjjNJcu9ynm6SMSrKVUVV-mM0HEqt_eYvJp20lDOa8byWrJulqhrvp3Wy4Xm17I03HsuQfIvN2ns-BK8hn8koEh7QA1SKONkV6IgD4Me5MPuwabQiPwVNju66PGK_6P1UARpAvUKacDCqcHxvCU2PwSvrAcZZHSF_pHskOsu0vuSNNCiu1Wtg_yvD8q-OPndw3lCm53UAYUBSHB6Gs03O7KKCqK4xAM03a0VHvWxYCcRyutj06hs2NA3ZYvn9u-UAeKAQAA\";\n\nexport default posterFallback;\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst API_KEY =\n  \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4YWZkNTU4ZjExYWMwZjBmODdjZmIxMmQwYzJhNzQ4OCIsInN1YiI6IjY2MWY4OWU4YTM5ZDBiMDE2MzU1OGM4ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Gcke1f6Y6QxhMeW1vKZN0Qi2tdpPIxlxLcN0PWMGeSc\";\n\nconst optionsObj = {\n  headers: {\n    Authorization: `Bearer ${API_KEY}`,\n  },\n};\n\nconst fetchTrendingMovies = async () => {\n  const resp = await axios.get(`${BASE_URL}/trending/movie/day`, optionsObj);\n  return resp.data;\n};\n\nconst fetchMovieByQuery = async query => {\n  const resp = await axios.get(`${BASE_URL}/search/movie?query=${query}`, optionsObj);\n  return resp.data;\n};\n\nconst fetchMovieDetailsByMovieId = async movieId => {\n  const resp = await axios.get(`${BASE_URL}/movie/${movieId}`, optionsObj);\n  return resp.data;\n};\n\nconst fetchCreditsByMovieId = async movieId => {\n  const resp = await axios.get(`${BASE_URL}/movie/${movieId}/credits`, optionsObj);\n  return resp.data;\n};\n\nconst fetchReviewsByMovieId = async movieId => {\n  const resp = await axios.get(`${BASE_URL}/movie/${movieId}/reviews`, optionsObj);\n  return resp.data;\n};\n\nconst api = {\n  fetchTrendingMovies,\n  fetchMovieByQuery,\n  fetchMovieDetailsByMovieId,\n  fetchCreditsByMovieId,\n  fetchReviewsByMovieId,\n};\n\nexport default api;\n"],"names":["_jsx","RotatingTriangles","wrapperClass","css","linkClass","_ref","isActive","clsx","_useState","useState","_useState2","_slicedToArray","dataMovie","setDataMovie","_useState3","_useState4","isLoading","setIsLoading","location","useLocation","movieId","useParams","backLinkRef","useRef","state","useEffect","fetchData","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","api","sent","t0","toast","message","finish","stop","apply","arguments","_Fragment","children","_jsxs","className","Link","to","current","Loader","src","backdrop_path","concat","posterFallback","alt","title","width","genres","map","_ref3","name","join","NavLink","Outlet","BASE_URL","optionsObj","headers","Authorization","fetchTrendingMovies","resp","axios","abrupt","fetchMovieByQuery","_callee2","query","_context2","_x","fetchMovieDetailsByMovieId","_callee3","_context3","_x2","fetchCreditsByMovieId","_ref4","_callee4","_context4","_x3","fetchReviewsByMovieId","_ref5","_callee5","_context5","_x4"],"sourceRoot":""}